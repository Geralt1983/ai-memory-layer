/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "./action-async-storage.external":
/*!****************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external" ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "./request-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "./static-generation-async-storage.external":
/*!***************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external" ***!
  \***************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\")), \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/app/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZwYWdlJnBhZ2U9JTJGcGFnZSZhcHBQYXRocz0lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFnZS50c3gmYXBwRGlyPSUyRlVzZXJzJTJGamVyZW15JTJGUHJvamVjdHMlMkZhaS1tZW1vcnktbGF5ZXIlMkZjaGF0Z3B0LWNsb25lJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmplcmVteSUyRlByb2plY3RzJTJGYWktbWVtb3J5LWxheWVyJTJGY2hhdGdwdC1jbG9uZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxhQUFhLHNCQUFzQjtBQUNpRTtBQUNyQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsdUJBQXVCLHdJQUFzRztBQUM3SDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsNElBQXdHO0FBQ2pJLG9CQUFvQiwwTkFBZ0Y7QUFDcEc7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ3VCO0FBQzZEO0FBQ3BGLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ3VEO0FBQ3ZEO0FBQ08sd0JBQXdCLDhHQUFrQjtBQUNqRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0Z3B0LWNsb25lLz9jMTY2Il0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qZXJlbXkvUHJvamVjdHMvYWktbWVtb3J5LWxheWVyL2NoYXRncHQtY2xvbmUvYXBwL3BhZ2UudHN4XCIpLCBcIi9Vc2Vycy9qZXJlbXkvUHJvamVjdHMvYWktbWVtb3J5LWxheWVyL2NoYXRncHQtY2xvbmUvYXBwL3BhZ2UudHN4XCJdLFxuICAgICAgICAgIFxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2plcmVteS9Qcm9qZWN0cy9haS1tZW1vcnktbGF5ZXIvY2hhdGdwdC1jbG9uZS9hcHAvbGF5b3V0LnRzeFwiKSwgXCIvVXNlcnMvamVyZW15L1Byb2plY3RzL2FpLW1lbW9yeS1sYXllci9jaGF0Z3B0LWNsb25lL2FwcC9sYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCIvVXNlcnMvamVyZW15L1Byb2plY3RzL2FpLW1lbW9yeS1sYXllci9jaGF0Z3B0LWNsb25lL2FwcC9wYWdlLnRzeFwiXTtcbmV4cG9ydCB7IHRyZWUsIHBhZ2VzIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeVwiO1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCIsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcGFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fcomponents%2FChatUI.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!":
/*!*********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fcomponents%2FChatUI.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ChatUI.tsx */ \"(ssr)/./components/ChatUI.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamVyZW15JTJGUHJvamVjdHMlMkZhaS1tZW1vcnktbGF5ZXIlMkZjaGF0Z3B0LWNsb25lJTJGY29tcG9uZW50cyUyRkNoYXRVSS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJkZWZhdWx0JTIyJTVEJTdEJnNlcnZlcj10cnVlISIsIm1hcHBpbmdzIjoiQUFBQSwwSkFBNEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0Z3B0LWNsb25lLz8zMjJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIi9Vc2Vycy9qZXJlbXkvUHJvamVjdHMvYWktbWVtb3J5LWxheWVyL2NoYXRncHQtY2xvbmUvY29tcG9uZW50cy9DaGF0VUkudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fcomponents%2FChatUI.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamVyZW15JTJGUHJvamVjdHMlMkZhaS1tZW1vcnktbGF5ZXIlMkZjaGF0Z3B0LWNsb25lJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGYXBwLXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmplcmVteSUyRlByb2plY3RzJTJGYWktbWVtb3J5LWxheWVyJTJGY2hhdGdwdC1jbG9uZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmNsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamVyZW15JTJGUHJvamVjdHMlMkZhaS1tZW1vcnktbGF5ZXIlMkZjaGF0Z3B0LWNsb25lJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZqZXJlbXklMkZQcm9qZWN0cyUyRmFpLW1lbW9yeS1sYXllciUyRmNoYXRncHQtY2xvbmUlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamVyZW15JTJGUHJvamVjdHMlMkZhaS1tZW1vcnktbGF5ZXIlMkZjaGF0Z3B0LWNsb25lJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbm90LWZvdW5kLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGamVyZW15JTJGUHJvamVjdHMlMkZhaS1tZW1vcnktbGF5ZXIlMkZjaGF0Z3B0LWNsb25lJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQWdKO0FBQ2hKO0FBQ0Esb09BQWlKO0FBQ2pKO0FBQ0EsME9BQW9KO0FBQ3BKO0FBQ0Esd09BQW1KO0FBQ25KO0FBQ0Esa1BBQXdKO0FBQ3hKO0FBQ0Esc1FBQWtLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhdGdwdC1jbG9uZS8/ODAwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qZXJlbXkvUHJvamVjdHMvYWktbWVtb3J5LWxheWVyL2NoYXRncHQtY2xvbmUvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvamVyZW15L1Byb2plY3RzL2FpLW1lbW9yeS1sYXllci9jaGF0Z3B0LWNsb25lL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvY2xpZW50LXBhZ2UuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qZXJlbXkvUHJvamVjdHMvYWktbWVtb3J5LWxheWVyL2NoYXRncHQtY2xvbmUvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2plcmVteS9Qcm9qZWN0cy9haS1tZW1vcnktbGF5ZXIvY2hhdGdwdC1jbG9uZS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2xheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qZXJlbXkvUHJvamVjdHMvYWktbWVtb3J5LWxheWVyL2NoYXRncHQtY2xvbmUvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9qZXJlbXkvUHJvamVjdHMvYWktbWVtb3J5LWxheWVyL2NoYXRncHQtY2xvbmUvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./components/ChatUI.tsx":
/*!*******************************!*\
  !*** ./components/ChatUI.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatUI)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Markdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Markdown */ \"(ssr)/./components/Markdown.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction ChatUI({ initialChats }) {\n    const [chats, setChats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialChats);\n    const [activeId, setActiveId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(chats[0]?.id ?? null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [system, setSystem] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"You are a helpful personal assistant.\");\n    const [model, setModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(process.env.NEXT_PUBLIC_OPENAI_MODEL || \"gpt-4o-mini\");\n    const [streaming, setStreaming] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [theme, setTheme] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>typeof document !== \"undefined\" && document.documentElement.classList.contains(\"dark\") ? \"dark\" : \"light\");\n    const [editingIndex, setEditingIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [mobileSidebarOpen, setMobileSidebarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [userScrolled, setUserScrolled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const listRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const abortRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Theme sync\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const isDark = document.documentElement.classList.contains(\"dark\");\n        setTheme(isDark ? \"dark\" : \"light\");\n    }, []);\n    // Auto-resize textarea\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const textarea = textareaRef.current;\n        if (!textarea) return;\n        textarea.style.height = \"auto\";\n        textarea.style.height = Math.min(textarea.scrollHeight, 200) + \"px\";\n    }, [\n        input\n    ]);\n    function toggleTheme() {\n        const next = theme === \"dark\" ? \"light\" : \"dark\";\n        setTheme(next);\n        const el = document.documentElement;\n        if (next === \"dark\") el.classList.add(\"dark\");\n        else el.classList.remove(\"dark\");\n        el.style.colorScheme = next;\n        try {\n            localStorage.setItem(\"theme\", next);\n        } catch  {}\n    }\n    // Load messages when active chat changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!activeId) return;\n        (async ()=>{\n            const res = await fetch(`/api/chats/${activeId}`);\n            const data = await res.json();\n            setMessages(data.messages);\n        })();\n    }, [\n        activeId\n    ]);\n    // Auto scroll to bottom, but track user scroll\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!listRef.current) return;\n        const handleScroll = ()=>{\n            if (!listRef.current) return;\n            const { scrollTop, scrollHeight, clientHeight } = listRef.current;\n            const isAtBottom = scrollHeight - scrollTop - clientHeight < 50;\n            setUserScrolled(!isAtBottom);\n        };\n        const container = listRef.current;\n        container.addEventListener(\"scroll\", handleScroll);\n        // Auto-scroll if not manually scrolled or if streaming just started\n        if (!userScrolled || streaming) {\n            container.scrollTop = container.scrollHeight;\n        }\n        return ()=>container.removeEventListener(\"scroll\", handleScroll);\n    }, [\n        messages,\n        streaming,\n        userScrolled\n    ]);\n    async function createNewChat() {\n        const res = await fetch(\"/api/chats\", {\n            method: \"POST\"\n        });\n        const data = await res.json();\n        setChats((prev)=>[\n                data.chat,\n                ...prev\n            ]);\n        setActiveId(data.chat.id);\n        setMessages([]);\n        setMobileSidebarOpen(false);\n    }\n    async function deleteChat(id) {\n        await fetch(`/api/chats/${id}`, {\n            method: \"DELETE\"\n        });\n        setChats((prev)=>prev.filter((c)=>c.id !== id));\n        if (activeId === id) {\n            setActiveId(chats.find((c)=>c.id !== id)?.id ?? null);\n            setMessages([]);\n        }\n    }\n    async function renameActive() {\n        if (!activeId) return;\n        const current = chats.find((c)=>c.id === activeId)?.title || \"Untitled\";\n        const title = prompt(\"Rename chat\", current);\n        if (!title) return;\n        await fetch(`/api/chats/${activeId}`, {\n            method: \"PATCH\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                title\n            })\n        });\n        const list = await fetch(\"/api/chats\").then((r)=>r.json());\n        setChats(list.chats);\n    }\n    async function refreshChats() {\n        const list = await fetch(\"/api/chats\").then((r)=>r.json());\n        setChats(list.chats);\n    }\n    async function sendMessage(e) {\n        e?.preventDefault();\n        if (streaming) return;\n        const content = editingIndex !== null ? messages[editingIndex].content : input;\n        if (!content?.trim()) return;\n        // Focus management & scroll reset\n        setUserScrolled(false);\n        textareaRef.current?.focus();\n        // Prepare optimistic UI\n        let payloadChatId = activeId;\n        let optimistic = [];\n        if (editingIndex !== null) {\n            const before = messages.slice(0, editingIndex);\n            optimistic = [\n                ...before,\n                {\n                    role: \"user\",\n                    content\n                },\n                {\n                    role: \"assistant\",\n                    content: \"\"\n                }\n            ];\n            setMessages(optimistic);\n            setEditingIndex(null);\n        } else {\n            setInput(\"\");\n            optimistic = [\n                ...messages,\n                {\n                    role: \"user\",\n                    content\n                },\n                {\n                    role: \"assistant\",\n                    content: \"\"\n                }\n            ];\n            setMessages(optimistic);\n        }\n        setStreaming(true);\n        abortRef.current = new AbortController();\n        try {\n            // Use unified streaming endpoint\n            const res = await fetch(\"/api/chat/streaming\", {\n                method: \"POST\",\n                signal: abortRef.current.signal,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    chatId: payloadChatId,\n                    content,\n                    system,\n                    model\n                })\n            });\n            if (!res.body) throw new Error(\"No response body\");\n            const reader = res.body.getReader();\n            const decoder = new TextDecoder();\n            let acc = \"\";\n            while(true){\n                const { value, done } = await reader.read();\n                if (done) break;\n                acc += decoder.decode(value, {\n                    stream: true\n                });\n                setMessages((m)=>{\n                    const copy = m.slice();\n                    const last = copy[copy.length - 1];\n                    if (last?.role === \"assistant\") last.content = acc;\n                    return copy;\n                });\n            }\n        } catch (error) {\n            if (error.name !== \"AbortError\") {\n                console.error(\"Streaming error:\", error);\n                setMessages((m)=>{\n                    const copy = m.slice();\n                    const last = copy[copy.length - 1];\n                    if (last?.role === \"assistant\") {\n                        last.content = \"Sorry, there was an error processing your request.\";\n                    }\n                    return copy;\n                });\n            }\n        } finally{\n            setStreaming(false);\n            await refreshChats();\n            if (!activeId) {\n                const list = await fetch(\"/api/chats\").then((r)=>r.json());\n                setActiveId(list.chats[0]?.id ?? null);\n            }\n        }\n    }\n    function stopStreaming() {\n        try {\n            abortRef.current?.abort();\n        } catch  {}\n        setStreaming(false);\n    }\n    function regenerate() {\n        if (streaming || messages.length < 2) return;\n        for(let i = messages.length - 1; i >= 0; i--){\n            if (messages[i].role === \"user\") {\n                setEditingIndex(i);\n                setInput(messages[i].content);\n                break;\n            }\n        }\n    }\n    function scrollToBottom() {\n        if (!listRef.current) return;\n        listRef.current.scrollTop = listRef.current.scrollHeight;\n        setUserScrolled(false);\n    }\n    // Handle Enter vs Shift+Enter\n    function handleKeyDown(e) {\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage();\n        }\n    }\n    const title = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>chats.find((c)=>c.id === activeId)?.title ?? \"New chat\", [\n        activeId,\n        chats\n    ]);\n    // Keyboard shortcuts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onKey = (e)=>{\n            const isMac = navigator.platform.toLowerCase().includes(\"mac\");\n            const meta = isMac ? e.metaKey : e.ctrlKey;\n            if (meta && e.key.toLowerCase() === \"enter\") {\n                e.preventDefault();\n                sendMessage();\n            }\n            if (e.key === \"Escape\" && streaming) {\n                e.preventDefault();\n                stopStreaming();\n            }\n        };\n        window.addEventListener(\"keydown\", onKey);\n        return ()=>window.removeEventListener(\"keydown\", onKey);\n    }, [\n        streaming,\n        messages\n    ]);\n    const sidebarContent = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"aside\", {\n        className: \"border-r border-white/10 bg-card-light dark:bg-card-dark p-3 flex flex-col gap-3 h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: createNewChat,\n                className: \"w-full rounded-2xl bg-emerald-600 hover:bg-emerald-500 text-white py-2 text-sm shadow\",\n                \"aria-label\": \"Create new chat\",\n                children: \"+ New chat\"\n            }, void 0, false, {\n                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                lineNumber: 237,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-auto space-y-1\",\n                children: chats.map((c)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `group flex items-center justify-between gap-2 px-3 py-2 rounded-xl cursor-pointer ${activeId === c.id ? \"bg-white/60 dark:bg-white/10\" : \"hover:bg-white/50 dark:hover:bg-white/10\"}`,\n                        onClick: ()=>{\n                            setActiveId(c.id);\n                            setMobileSidebarOpen(false);\n                        },\n                        role: \"button\",\n                        tabIndex: 0,\n                        \"aria-label\": `Switch to chat: ${c.title}`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"truncate text-sm\",\n                                children: c.title\n                            }, void 0, false, {\n                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                lineNumber: 256,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"opacity-0 group-hover:opacity-100 flex items-center gap-2 text-xs\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            setActiveId(c.id);\n                                            renameActive();\n                                        },\n                                        className: \"text-gray-400 hover:text-gray-200\",\n                                        \"aria-label\": \"Rename chat\",\n                                        children: \"Rename\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 258,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            deleteChat(c.id);\n                                        },\n                                        className: \"text-red-400 hover:text-red-300\",\n                                        \"aria-label\": \"Delete chat\",\n                                        children: \"Delete\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 265,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                lineNumber: 257,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, c.id, true, {\n                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                        lineNumber: 246,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                lineNumber: 244,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between text-xs opacity-80\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: toggleTheme,\n                        className: \"px-2 py-1 rounded-lg bg-white/60 dark:bg-white/10\",\n                        \"aria-label\": `Switch to ${theme === \"dark\" ? \"light\" : \"dark\"} theme`,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            suppressHydrationWarning: true,\n                            children: theme === \"dark\" ? \"Light\" : \"Dark\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                            lineNumber: 282,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                        lineNumber: 277,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                        className: \"underline\",\n                        href: \"https://platform.openai.com/\",\n                        target: \"_blank\",\n                        rel: \"noreferrer\",\n                        children: \"OpenAI\"\n                    }, void 0, false, {\n                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                        lineNumber: 284,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                lineNumber: 276,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n        lineNumber: 236,\n        columnNumber: 5\n    }, this);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"grid h-screen grid-cols-1 md:grid-cols-[280px_1fr] relative\",\n        children: [\n            mobileSidebarOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/50 z-40 md:hidden\",\n                onClick: ()=>setMobileSidebarOpen(false)\n            }, void 0, false, {\n                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                lineNumber: 295,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `\n        fixed md:relative top-0 left-0 h-full w-[280px] z-50 md:z-auto\n        transform transition-transform duration-200 ease-in-out md:transform-none\n        ${mobileSidebarOpen ? \"translate-x-0\" : \"-translate-x-full md:translate-x-0\"}\n      `,\n                children: sidebarContent\n            }, void 0, false, {\n                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                lineNumber: 299,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"flex flex-col h-screen\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                        className: \"border-b border-white/10 px-4 md:px-6 py-3 flex items-center gap-3 bg-bg-light/60 dark:bg-bg-dark/60 sticky top-0 backdrop-blur\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setMobileSidebarOpen(true),\n                                className: \"md:hidden p-1 rounded-lg bg-white/60 dark:bg-white/10\",\n                                \"aria-label\": \"Open sidebar\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                    className: \"w-5 h-5\",\n                                    fill: \"none\",\n                                    stroke: \"currentColor\",\n                                    viewBox: \"0 0 24 24\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\",\n                                        strokeWidth: 2,\n                                        d: \"M4 6h16M4 12h16M4 18h16\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 317,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                    lineNumber: 316,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                lineNumber: 311,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-lg font-semibold truncate flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: title\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 321,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs px-2 py-0.5 rounded-lg bg-white/10 border border-white/10\",\n                                        children: model\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 322,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"px-2 py-0.5 rounded bg-green-500 text-white text-xs font-bold\",\n                                        children: \"LIVE\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 323,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                lineNumber: 320,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"ml-auto flex items-center gap-2 text-xs\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        value: model,\n                                        onChange: (e)=>setModel(e.target.value),\n                                        className: \"rounded-lg bg-white/60 dark:bg-white/10 px-2 py-1\",\n                                        \"aria-label\": \"Select AI model\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"gpt-4o-mini\",\n                                                children: \"gpt-4o-mini\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                lineNumber: 332,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: \"gpt-4o\",\n                                                children: \"gpt-4o\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                lineNumber: 333,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 326,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                                                className: \"cursor-pointer px-2 py-1 rounded-lg bg-white/60 dark:bg-white/10\",\n                                                children: \"Settings\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                lineNumber: 336,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute right-4 mt-2 w-[280px] md:w-[480px] rounded-2xl border border-white/10 bg-card-light dark:bg-card-dark p-3 shadow-xl\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-xs opacity-70\",\n                                                        children: \"System prompt\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                        lineNumber: 340,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                        value: system,\n                                                        onChange: (e)=>setSystem(e.target.value),\n                                                        className: \"w-full mt-1 h-32 rounded-xl bg-white/60 dark:bg-white/10 p-2\",\n                                                        \"aria-label\": \"System prompt\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                        lineNumber: 341,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                lineNumber: 339,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 335,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: stopStreaming,\n                                        disabled: !streaming,\n                                        className: \"hidden sm:block rounded-lg px-2 py-1 bg-red-600/80 text-white disabled:opacity-50\",\n                                        \"aria-label\": \"Stop generation\",\n                                        children: \"Stop\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 349,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: regenerate,\n                                        disabled: streaming || messages.length < 2,\n                                        className: \"hidden sm:block rounded-lg px-2 py-1 bg-white/60 dark:bg-white/10 disabled:opacity-50\",\n                                        \"aria-label\": \"Regenerate last response\",\n                                        children: \"Regenerate\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 357,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                lineNumber: 325,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                        lineNumber: 310,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: listRef,\n                        className: \"flex-1 overflow-auto px-4 md:px-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mx-auto max-w-3xl py-6 space-y-6\",\n                            children: [\n                                messages.map((m, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `rounded-2xl p-4 ${m.role === \"user\" ? \"bg-white/70 dark:bg-white/10\" : \"bg-white/5 border border-white/10\"}`,\n                                        children: [\n                                            m.role === \"assistant\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Markdown__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                text: m.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                lineNumber: 379,\n                                                columnNumber: 19\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"whitespace-pre-wrap\",\n                                                children: m.content\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                lineNumber: 381,\n                                                columnNumber: 19\n                                            }, this),\n                                            m.role === \"user\" && (()=>{\n                                                for(let j = messages.length - 1; j >= 0; j--){\n                                                    if (messages[j].role === \"user\") return i === j;\n                                                }\n                                                return false;\n                                            })() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    className: \"text-xs opacity-80 underline hover:opacity-100\",\n                                                    onClick: ()=>{\n                                                        setEditingIndex(i);\n                                                        setInput(m.content);\n                                                    },\n                                                    \"aria-label\": \"Edit and regenerate this message\",\n                                                    children: \"Edit and regenerate\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                    lineNumber: 390,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                                lineNumber: 389,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, i, true, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 372,\n                                        columnNumber: 15\n                                    }, this)),\n                                streaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"animate-pulse text-sm opacity-80 flex items-center gap-2\",\n                                    children: [\n                                        \"Assistant is typing…\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: stopStreaming,\n                                            className: \"sm:hidden text-xs bg-red-600/80 text-white px-2 py-1 rounded\",\n                                            \"aria-label\": \"Stop generation\",\n                                            children: \"Stop\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                            lineNumber: 404,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                    lineNumber: 402,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                            lineNumber: 370,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                        lineNumber: 369,\n                        columnNumber: 9\n                    }, this),\n                    userScrolled && streaming && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute bottom-24 right-6 z-10\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: scrollToBottom,\n                            className: \"bg-emerald-600 hover:bg-emerald-500 text-white px-3 py-2 rounded-full shadow-lg text-sm\",\n                            \"aria-label\": \"Jump to latest message\",\n                            children: \"↓ Jump to latest\"\n                        }, void 0, false, {\n                            fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                            lineNumber: 419,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                        lineNumber: 418,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: sendMessage,\n                        className: \"border-t border-white/10 p-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mx-auto max-w-3xl flex gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                        ref: textareaRef,\n                                        value: input,\n                                        onChange: (e)=>setInput(e.target.value),\n                                        onKeyDown: handleKeyDown,\n                                        placeholder: \"Message...\",\n                                        className: \"flex-1 rounded-2xl bg-white/70 dark:bg-white/10 px-4 py-3 resize-none overflow-hidden min-h-[48px]\",\n                                        rows: 1,\n                                        \"aria-label\": \"Type your message\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 432,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        type: \"submit\",\n                                        disabled: streaming || !input.trim(),\n                                        className: \"rounded-2xl px-4 py-3 bg-emerald-600 hover:bg-emerald-500 text-white disabled:opacity-50 self-end\",\n                                        \"aria-label\": \"Send message\",\n                                        children: \"Send\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 442,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                lineNumber: 431,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mx-auto max-w-3xl mt-2 text-xs opacity-70\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"hidden sm:inline\",\n                                        children: \"Cmd+Enter to send • \"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 452,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Enter to send, Shift+Enter for new line\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"hidden sm:inline\",\n                                        children: \" • Esc to stop\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                        lineNumber: 454,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                                lineNumber: 451,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                        lineNumber: 430,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n                lineNumber: 308,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx\",\n        lineNumber: 292,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0RBQVE1RyxnQkFBZ0J5Rjt3REFBSTFHLFNBQVNnRyxFQUFFdEIsT0FBTztvREFBRztvREFDMURvRCxjQUFXOzhEQUNaOzs7Ozs7Ozs7Ozs7dUNBckJBcEI7Ozs7O2dDQTRCUmxHLDJCQUNDLDhEQUFDdUg7b0NBQUlKLFdBQVU7O3dDQUEyRDtzREFFeEUsOERBQUNDOzRDQUNDQyxTQUFTdEI7NENBQ1RvQixXQUFVOzRDQUNWRyxjQUFXO3NEQUNaOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFTUjFHLGdCQUFnQlosMkJBQ2YsOERBQUN1SDt3QkFBSUosV0FBVTtrQ0FDYiw0RUFBQ0M7NEJBQ0NDLFNBQVNsQjs0QkFDVGdCLFdBQVU7NEJBQ1ZHLGNBQVc7c0NBQ1o7Ozs7Ozs7Ozs7O2tDQU9MLDhEQUFDaUM7d0JBQUtDLFVBQVV6Rjt3QkFBYW9ELFdBQVU7OzBDQUNyQyw4REFBQ0k7Z0NBQUlKLFdBQVU7O2tEQUNiLDhEQUFDakc7d0NBQ0NrSSxLQUFLckk7d0NBQ0xvRSxPQUFPNUY7d0NBQ1B1SixVQUFVOUUsQ0FBQUEsSUFBS3hFLFNBQVN3RSxFQUFFK0QsTUFBTSxDQUFDNUMsS0FBSzt3Q0FDdENzRSxXQUFXckQ7d0NBQ1hzRCxhQUFZO3dDQUNadkMsV0FBVTt3Q0FDVndDLE1BQU07d0NBQ05yQyxjQUFXOzs7Ozs7a0RBRWIsOERBQUNGO3dDQUNDd0MsTUFBSzt3Q0FDTFQsVUFBVW5KLGFBQWEsQ0FBQ1QsTUFBTTRFLElBQUk7d0NBQ2xDZ0QsV0FBVTt3Q0FDVkcsY0FBVztrREFDWjs7Ozs7Ozs7Ozs7OzBDQUlILDhEQUFDQztnQ0FBSUosV0FBVTs7a0RBQ2IsOERBQUNPO3dDQUFLUCxXQUFVO2tEQUFtQjs7Ozs7O29DQUEyQjtrREFFOUQsOERBQUNPO3dDQUFLUCxXQUFVO2tEQUFtQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTS9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhdGdwdC1jbG9uZS8uL2NvbXBvbmVudHMvQ2hhdFVJLnRzeD9lOGQyIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB0eXBlIHsgVUlNZXNzYWdlIH0gZnJvbSAnQC9saWIvdHlwZXMnXG5pbXBvcnQgTWFya2Rvd24gZnJvbSAnLi9NYXJrZG93bidcblxuaW50ZXJmYWNlIENoYXRSZWYgeyBpZDogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBjcmVhdGVkQXQ6IHN0cmluZyB9XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRVSSh7IGluaXRpYWxDaGF0cyB9OiB7IGluaXRpYWxDaGF0czogQ2hhdFJlZltdIH0pIHtcbiAgY29uc3QgW2NoYXRzLCBzZXRDaGF0c10gPSB1c2VTdGF0ZShpbml0aWFsQ2hhdHMpXG4gIGNvbnN0IFthY3RpdmVJZCwgc2V0QWN0aXZlSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4oY2hhdHNbMF0/LmlkID8/IG51bGwpXG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8VUlNZXNzYWdlW10+KFtdKVxuICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbc3lzdGVtLCBzZXRTeXN0ZW1dID0gdXNlU3RhdGUoJ1lvdSBhcmUgYSBoZWxwZnVsIHBlcnNvbmFsIGFzc2lzdGFudC4nKVxuICBjb25zdCBbbW9kZWwsIHNldE1vZGVsXSA9IHVzZVN0YXRlPHN0cmluZz4ocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfT1BFTkFJX01PREVMIHx8ICdncHQtNG8tbWluaScpXG4gIGNvbnN0IFtzdHJlYW1pbmcsIHNldFN0cmVhbWluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3RoZW1lLCBzZXRUaGVtZV0gPSB1c2VTdGF0ZTwnbGlnaHQnfCdkYXJrJz4oKCkgPT5cbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmsnKSA/ICdkYXJrJyA6ICdsaWdodCdcbiAgKVxuICBjb25zdCBbZWRpdGluZ0luZGV4LCBzZXRFZGl0aW5nSW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW21vYmlsZVNpZGViYXJPcGVuLCBzZXRNb2JpbGVTaWRlYmFyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3VzZXJTY3JvbGxlZCwgc2V0VXNlclNjcm9sbGVkXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IGxpc3RSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IHRleHRhcmVhUmVmID0gdXNlUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IGFib3J0UmVmID0gdXNlUmVmPEFib3J0Q29udHJvbGxlciB8IG51bGw+KG51bGwpXG5cbiAgLy8gVGhlbWUgc3luY1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGlzRGFyayA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmsnKVxuICAgIHNldFRoZW1lKGlzRGFyayA/ICdkYXJrJyA6ICdsaWdodCcpXG4gIH0sIFtdKVxuXG4gIC8vIEF1dG8tcmVzaXplIHRleHRhcmVhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdGV4dGFyZWEgPSB0ZXh0YXJlYVJlZi5jdXJyZW50XG4gICAgaWYgKCF0ZXh0YXJlYSkgcmV0dXJuXG4gICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nXG4gICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gTWF0aC5taW4odGV4dGFyZWEuc2Nyb2xsSGVpZ2h0LCAyMDApICsgJ3B4J1xuICB9LCBbaW5wdXRdKVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZVRoZW1lKCkge1xuICAgIGNvbnN0IG5leHQgPSB0aGVtZSA9PT0gJ2RhcmsnID8gJ2xpZ2h0JyA6ICdkYXJrJ1xuICAgIHNldFRoZW1lKG5leHQpXG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbiAgICBpZiAobmV4dCA9PT0gJ2RhcmsnKSBlbC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7IGVsc2UgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpXG4gICAgZWwuc3R5bGUuY29sb3JTY2hlbWUgPSBuZXh0XG4gICAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgbmV4dCkgfSBjYXRjaCB7fVxuICB9XG5cbiAgLy8gTG9hZCBtZXNzYWdlcyB3aGVuIGFjdGl2ZSBjaGF0IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFjdGl2ZUlkKSByZXR1cm5cbiAgICA7KGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2NoYXRzLyR7YWN0aXZlSWR9YClcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICBzZXRNZXNzYWdlcyhkYXRhLm1lc3NhZ2VzKVxuICAgIH0pKClcbiAgfSwgW2FjdGl2ZUlkXSlcblxuICAvLyBBdXRvIHNjcm9sbCB0byBib3R0b20sIGJ1dCB0cmFjayB1c2VyIHNjcm9sbFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbGlzdFJlZi5jdXJyZW50KSByZXR1cm5cbiAgICBcbiAgICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgICBpZiAoIWxpc3RSZWYuY3VycmVudCkgcmV0dXJuXG4gICAgICBjb25zdCB7IHNjcm9sbFRvcCwgc2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHQgfSA9IGxpc3RSZWYuY3VycmVudFxuICAgICAgY29uc3QgaXNBdEJvdHRvbSA9IHNjcm9sbEhlaWdodCAtIHNjcm9sbFRvcCAtIGNsaWVudEhlaWdodCA8IDUwXG4gICAgICBzZXRVc2VyU2Nyb2xsZWQoIWlzQXRCb3R0b20pXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGxpc3RSZWYuY3VycmVudFxuICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGwpXG4gICAgXG4gICAgLy8gQXV0by1zY3JvbGwgaWYgbm90IG1hbnVhbGx5IHNjcm9sbGVkIG9yIGlmIHN0cmVhbWluZyBqdXN0IHN0YXJ0ZWRcbiAgICBpZiAoIXVzZXJTY3JvbGxlZCB8fCBzdHJlYW1pbmcpIHtcbiAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsSGVpZ2h0XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAoKSA9PiBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsKVxuICB9LCBbbWVzc2FnZXMsIHN0cmVhbWluZywgdXNlclNjcm9sbGVkXSlcblxuICBhc3luYyBmdW5jdGlvbiBjcmVhdGVOZXdDaGF0KCkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2NoYXRzJywgeyBtZXRob2Q6ICdQT1NUJyB9KVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgc2V0Q2hhdHMocHJldiA9PiBbZGF0YS5jaGF0LCAuLi5wcmV2XSlcbiAgICBzZXRBY3RpdmVJZChkYXRhLmNoYXQuaWQpXG4gICAgc2V0TWVzc2FnZXMoW10pXG4gICAgc2V0TW9iaWxlU2lkZWJhck9wZW4oZmFsc2UpXG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBkZWxldGVDaGF0KGlkOiBzdHJpbmcpIHtcbiAgICBhd2FpdCBmZXRjaChgL2FwaS9jaGF0cy8ke2lkfWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KVxuICAgIHNldENoYXRzKHByZXYgPT4gcHJldi5maWx0ZXIoYyA9PiBjLmlkICE9PSBpZCkpXG4gICAgaWYgKGFjdGl2ZUlkID09PSBpZCkge1xuICAgICAgc2V0QWN0aXZlSWQoY2hhdHMuZmluZChjID0+IGMuaWQgIT09IGlkKT8uaWQgPz8gbnVsbClcbiAgICAgIHNldE1lc3NhZ2VzKFtdKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHJlbmFtZUFjdGl2ZSgpIHtcbiAgICBpZiAoIWFjdGl2ZUlkKSByZXR1cm5cbiAgICBjb25zdCBjdXJyZW50ID0gY2hhdHMuZmluZChjID0+IGMuaWQgPT09IGFjdGl2ZUlkKT8udGl0bGUgfHwgJ1VudGl0bGVkJ1xuICAgIGNvbnN0IHRpdGxlID0gcHJvbXB0KCdSZW5hbWUgY2hhdCcsIGN1cnJlbnQpXG4gICAgaWYgKCF0aXRsZSkgcmV0dXJuXG4gICAgYXdhaXQgZmV0Y2goYC9hcGkvY2hhdHMvJHthY3RpdmVJZH1gLCB7IG1ldGhvZDogJ1BBVENIJywgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdGl0bGUgfSkgfSlcbiAgICBjb25zdCBsaXN0ID0gYXdhaXQgZmV0Y2goJy9hcGkvY2hhdHMnKS50aGVuKHIgPT4gci5qc29uKCkpXG4gICAgc2V0Q2hhdHMobGlzdC5jaGF0cylcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hDaGF0cygpIHtcbiAgICBjb25zdCBsaXN0ID0gYXdhaXQgZmV0Y2goJy9hcGkvY2hhdHMnKS50aGVuKHIgPT4gci5qc29uKCkpXG4gICAgc2V0Q2hhdHMobGlzdC5jaGF0cylcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKGU/OiBSZWFjdC5Gb3JtRXZlbnQpIHtcbiAgICBlPy5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKHN0cmVhbWluZykgcmV0dXJuXG4gICAgY29uc3QgY29udGVudCA9IGVkaXRpbmdJbmRleCAhPT0gbnVsbCA/IG1lc3NhZ2VzW2VkaXRpbmdJbmRleF0uY29udGVudCA6IGlucHV0XG4gICAgaWYgKCFjb250ZW50Py50cmltKCkpIHJldHVyblxuXG4gICAgLy8gRm9jdXMgbWFuYWdlbWVudCAmIHNjcm9sbCByZXNldFxuICAgIHNldFVzZXJTY3JvbGxlZChmYWxzZSlcbiAgICB0ZXh0YXJlYVJlZi5jdXJyZW50Py5mb2N1cygpXG5cbiAgICAvLyBQcmVwYXJlIG9wdGltaXN0aWMgVUlcbiAgICBsZXQgcGF5bG9hZENoYXRJZCA9IGFjdGl2ZUlkXG4gICAgbGV0IG9wdGltaXN0aWM6IFVJTWVzc2FnZVtdID0gW11cbiAgICBpZiAoZWRpdGluZ0luZGV4ICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBiZWZvcmUgPSBtZXNzYWdlcy5zbGljZSgwLCBlZGl0aW5nSW5kZXgpXG4gICAgICBvcHRpbWlzdGljID0gWy4uLmJlZm9yZSwgeyByb2xlOiAndXNlcicsIGNvbnRlbnQgfSwgeyByb2xlOiAnYXNzaXN0YW50JywgY29udGVudDogJycgfV1cbiAgICAgIHNldE1lc3NhZ2VzKG9wdGltaXN0aWMpXG4gICAgICBzZXRFZGl0aW5nSW5kZXgobnVsbClcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0SW5wdXQoJycpXG4gICAgICBvcHRpbWlzdGljID0gWy4uLm1lc3NhZ2VzLCB7IHJvbGU6ICd1c2VyJywgY29udGVudCB9LCB7IHJvbGU6ICdhc3Npc3RhbnQnLCBjb250ZW50OiAnJyB9XVxuICAgICAgc2V0TWVzc2FnZXMob3B0aW1pc3RpYylcbiAgICB9XG5cbiAgICBzZXRTdHJlYW1pbmcodHJ1ZSlcbiAgICBhYm9ydFJlZi5jdXJyZW50ID0gbmV3IEFib3J0Q29udHJvbGxlcigpXG5cbiAgICB0cnkge1xuICAgICAgLy8gVXNlIHVuaWZpZWQgc3RyZWFtaW5nIGVuZHBvaW50XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9jaGF0L3N0cmVhbWluZycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHNpZ25hbDogYWJvcnRSZWYuY3VycmVudC5zaWduYWwsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNoYXRJZDogcGF5bG9hZENoYXRJZCwgY29udGVudCwgc3lzdGVtLCBtb2RlbCB9KVxuICAgICAgfSlcblxuICAgICAgaWYgKCFyZXMuYm9keSkgdGhyb3cgbmV3IEVycm9yKCdObyByZXNwb25zZSBib2R5JylcbiAgICAgIFxuICAgICAgY29uc3QgcmVhZGVyID0gcmVzLmJvZHkuZ2V0UmVhZGVyKClcbiAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKVxuICAgICAgbGV0IGFjYyA9ICcnXG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKClcbiAgICAgICAgaWYgKGRvbmUpIGJyZWFrXG4gICAgICAgIGFjYyArPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSlcbiAgICAgICAgc2V0TWVzc2FnZXMobSA9PiB7XG4gICAgICAgICAgY29uc3QgY29weSA9IG0uc2xpY2UoKVxuICAgICAgICAgIGNvbnN0IGxhc3QgPSBjb3B5W2NvcHkubGVuZ3RoIC0gMV1cbiAgICAgICAgICBpZiAobGFzdD8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIGxhc3QuY29udGVudCA9IGFjY1xuICAgICAgICAgIHJldHVybiBjb3B5XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgaWYgKGVycm9yLm5hbWUgIT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTdHJlYW1pbmcgZXJyb3I6JywgZXJyb3IpXG4gICAgICAgIHNldE1lc3NhZ2VzKG0gPT4ge1xuICAgICAgICAgIGNvbnN0IGNvcHkgPSBtLnNsaWNlKClcbiAgICAgICAgICBjb25zdCBsYXN0ID0gY29weVtjb3B5Lmxlbmd0aCAtIDFdXG4gICAgICAgICAgaWYgKGxhc3Q/LnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgICAgICBsYXN0LmNvbnRlbnQgPSAnU29ycnksIHRoZXJlIHdhcyBhbiBlcnJvciBwcm9jZXNzaW5nIHlvdXIgcmVxdWVzdC4nXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjb3B5XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFN0cmVhbWluZyhmYWxzZSlcbiAgICAgIGF3YWl0IHJlZnJlc2hDaGF0cygpXG4gICAgICBpZiAoIWFjdGl2ZUlkKSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSBhd2FpdCBmZXRjaCgnL2FwaS9jaGF0cycpLnRoZW4ociA9PiByLmpzb24oKSlcbiAgICAgICAgc2V0QWN0aXZlSWQobGlzdC5jaGF0c1swXT8uaWQgPz8gbnVsbClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wU3RyZWFtaW5nKCkge1xuICAgIHRyeSB7IGFib3J0UmVmLmN1cnJlbnQ/LmFib3J0KCkgfSBjYXRjaCB7fVxuICAgIHNldFN0cmVhbWluZyhmYWxzZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZ2VuZXJhdGUoKSB7XG4gICAgaWYgKHN0cmVhbWluZyB8fCBtZXNzYWdlcy5sZW5ndGggPCAyKSByZXR1cm5cbiAgICBmb3IgKGxldCBpID0gbWVzc2FnZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmIChtZXNzYWdlc1tpXS5yb2xlID09PSAndXNlcicpIHsgXG4gICAgICAgIHNldEVkaXRpbmdJbmRleChpKVxuICAgICAgICBzZXRJbnB1dChtZXNzYWdlc1tpXS5jb250ZW50KVxuICAgICAgICBicmVhayBcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxUb0JvdHRvbSgpIHtcbiAgICBpZiAoIWxpc3RSZWYuY3VycmVudCkgcmV0dXJuXG4gICAgbGlzdFJlZi5jdXJyZW50LnNjcm9sbFRvcCA9IGxpc3RSZWYuY3VycmVudC5zY3JvbGxIZWlnaHRcbiAgICBzZXRVc2VyU2Nyb2xsZWQoZmFsc2UpXG4gIH1cblxuICAvLyBIYW5kbGUgRW50ZXIgdnMgU2hpZnQrRW50ZXJcbiAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIHNlbmRNZXNzYWdlKClcbiAgICB9XG4gIH1cblxuICBjb25zdCB0aXRsZSA9IHVzZU1lbW8oKCkgPT4gY2hhdHMuZmluZChjID0+IGMuaWQgPT09IGFjdGl2ZUlkKT8udGl0bGUgPz8gJ05ldyBjaGF0JywgW2FjdGl2ZUlkLCBjaGF0c10pXG5cbiAgLy8gS2V5Ym9hcmQgc2hvcnRjdXRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgb25LZXkgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgY29uc3QgaXNNYWMgPSBuYXZpZ2F0b3IucGxhdGZvcm0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbWFjJylcbiAgICAgIGNvbnN0IG1ldGEgPSBpc01hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleVxuICAgICAgaWYgKG1ldGEgJiYgZS5rZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2VudGVyJykgeyBlLnByZXZlbnREZWZhdWx0KCk7IHNlbmRNZXNzYWdlKCkgfVxuICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJyAmJiBzdHJlYW1pbmcpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBzdG9wU3RyZWFtaW5nKCkgfVxuICAgIH1cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5KVxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5KVxuICB9LCBbc3RyZWFtaW5nLCBtZXNzYWdlc10pXG5cbiAgY29uc3Qgc2lkZWJhckNvbnRlbnQgPSAoXG4gICAgPGFzaWRlIGNsYXNzTmFtZT1cImJvcmRlci1yIGJvcmRlci13aGl0ZS8xMCBiZy1jYXJkLWxpZ2h0IGRhcms6YmctY2FyZC1kYXJrIHAtMyBmbGV4IGZsZXgtY29sIGdhcC0zIGgtZnVsbFwiPlxuICAgICAgPGJ1dHRvbiBcbiAgICAgICAgb25DbGljaz17Y3JlYXRlTmV3Q2hhdH0gXG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCByb3VuZGVkLTJ4bCBiZy1lbWVyYWxkLTYwMCBob3ZlcjpiZy1lbWVyYWxkLTUwMCB0ZXh0LXdoaXRlIHB5LTIgdGV4dC1zbSBzaGFkb3dcIlxuICAgICAgICBhcmlhLWxhYmVsPVwiQ3JlYXRlIG5ldyBjaGF0XCJcbiAgICAgID5cbiAgICAgICAgKyBOZXcgY2hhdFxuICAgICAgPC9idXR0b24+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy1hdXRvIHNwYWNlLXktMVwiPlxuICAgICAgICB7Y2hhdHMubWFwKGMgPT4gKFxuICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICBrZXk9e2MuaWR9IFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZ3JvdXAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yIHB4LTMgcHktMiByb3VuZGVkLXhsIGN1cnNvci1wb2ludGVyICR7XG4gICAgICAgICAgICAgIGFjdGl2ZUlkID09PSBjLmlkID8gJ2JnLXdoaXRlLzYwIGRhcms6Ymctd2hpdGUvMTAnIDogJ2hvdmVyOmJnLXdoaXRlLzUwIGRhcms6aG92ZXI6Ymctd2hpdGUvMTAnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtzZXRBY3RpdmVJZChjLmlkKTsgc2V0TW9iaWxlU2lkZWJhck9wZW4oZmFsc2UpfX1cbiAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgdGFiSW5kZXg9ezB9XG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtgU3dpdGNoIHRvIGNoYXQ6ICR7Yy50aXRsZX1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlIHRleHQtc21cIj57Yy50aXRsZX08L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtlLnN0b3BQcm9wYWdhdGlvbigpOyBzZXRBY3RpdmVJZChjLmlkKTsgcmVuYW1lQWN0aXZlKCl9fSBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS0yMDBcIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJSZW5hbWUgY2hhdFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBSZW5hbWVcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtlLnN0b3BQcm9wYWdhdGlvbigpOyBkZWxldGVDaGF0KGMuaWQpfX0gXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNDAwIGhvdmVyOnRleHQtcmVkLTMwMFwiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRlbGV0ZSBjaGF0XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyBvcGFjaXR5LTgwXCI+XG4gICAgICAgIDxidXR0b24gXG4gICAgICAgICAgb25DbGljaz17dG9nZ2xlVGhlbWV9IFxuICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSByb3VuZGVkLWxnIGJnLXdoaXRlLzYwIGRhcms6Ymctd2hpdGUvMTBcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9e2BTd2l0Y2ggdG8gJHt0aGVtZSA9PT0gJ2RhcmsnID8gJ2xpZ2h0JyA6ICdkYXJrJ30gdGhlbWVgfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPnt0aGVtZSA9PT0gJ2RhcmsnID8gJ0xpZ2h0JyA6ICdEYXJrJ308L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YSBjbGFzc05hbWU9XCJ1bmRlcmxpbmVcIiBocmVmPVwiaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL1wiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vcmVmZXJyZXJcIj5cbiAgICAgICAgICBPcGVuQUlcbiAgICAgICAgPC9hPlxuICAgICAgPC9kaXY+XG4gICAgPC9hc2lkZT5cbiAgKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGgtc2NyZWVuIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy1bMjgwcHhfMWZyXSByZWxhdGl2ZVwiPlxuICAgICAgey8qIE1vYmlsZSBzaWRlYmFyIG92ZXJsYXkgKi99XG4gICAgICB7bW9iaWxlU2lkZWJhck9wZW4gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svNTAgei00MCBtZDpoaWRkZW5cIiBvbkNsaWNrPXsoKSA9PiBzZXRNb2JpbGVTaWRlYmFyT3BlbihmYWxzZSl9IC8+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogU2lkZWJhciAtIHJlc3BvbnNpdmUgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YFxuICAgICAgICBmaXhlZCBtZDpyZWxhdGl2ZSB0b3AtMCBsZWZ0LTAgaC1mdWxsIHctWzI4MHB4XSB6LTUwIG1kOnotYXV0b1xuICAgICAgICB0cmFuc2Zvcm0gdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMjAwIGVhc2UtaW4tb3V0IG1kOnRyYW5zZm9ybS1ub25lXG4gICAgICAgICR7bW9iaWxlU2lkZWJhck9wZW4gPyAndHJhbnNsYXRlLXgtMCcgOiAnLXRyYW5zbGF0ZS14LWZ1bGwgbWQ6dHJhbnNsYXRlLXgtMCd9XG4gICAgICBgfT5cbiAgICAgICAge3NpZGViYXJDb250ZW50fVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNYWluICovfVxuICAgICAgPG1haW4gY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLXNjcmVlblwiPlxuICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci13aGl0ZS8xMCBweC00IG1kOnB4LTYgcHktMyBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBiZy1iZy1saWdodC82MCBkYXJrOmJnLWJnLWRhcmsvNjAgc3RpY2t5IHRvcC0wIGJhY2tkcm9wLWJsdXJcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRNb2JpbGVTaWRlYmFyT3Blbih0cnVlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1kOmhpZGRlbiBwLTEgcm91bmRlZC1sZyBiZy13aGl0ZS82MCBkYXJrOmJnLXdoaXRlLzEwXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJPcGVuIHNpZGViYXJcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCA2aDE2TTQgMTJoMTZNNCAxOGgxNlwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRydW5jYXRlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8c3Bhbj57dGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTAuNSByb3VuZGVkLWxnIGJnLXdoaXRlLzEwIGJvcmRlciBib3JkZXItd2hpdGUvMTBcIj57bW9kZWx9PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHgtMiBweS0wLjUgcm91bmRlZCBiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtYm9sZFwiPkxJVkU8L3NwYW4+XG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLWF1dG8gZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14c1wiPlxuICAgICAgICAgICAgPHNlbGVjdCBcbiAgICAgICAgICAgICAgdmFsdWU9e21vZGVsfSBcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0TW9kZWwoZS50YXJnZXQudmFsdWUpfSBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBiZy13aGl0ZS82MCBkYXJrOmJnLXdoaXRlLzEwIHB4LTIgcHktMVwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJTZWxlY3QgQUkgbW9kZWxcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ3B0LTRvLW1pbmlcIj5ncHQtNG8tbWluaTwvb3B0aW9uPlxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ3B0LTRvXCI+Z3B0LTRvPC9vcHRpb24+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDxkZXRhaWxzPlxuICAgICAgICAgICAgICA8c3VtbWFyeSBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlciBweC0yIHB5LTEgcm91bmRlZC1sZyBiZy13aGl0ZS82MCBkYXJrOmJnLXdoaXRlLzEwXCI+XG4gICAgICAgICAgICAgICAgU2V0dGluZ3NcbiAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTQgbXQtMiB3LVsyODBweF0gbWQ6dy1bNDgwcHhdIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgYmctY2FyZC1saWdodCBkYXJrOmJnLWNhcmQtZGFyayBwLTMgc2hhZG93LXhsXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgb3BhY2l0eS03MFwiPlN5c3RlbSBwcm9tcHQ8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzeXN0ZW19IFxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0U3lzdGVtKGUudGFyZ2V0LnZhbHVlKX0gXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgbXQtMSBoLTMyIHJvdW5kZWQteGwgYmctd2hpdGUvNjAgZGFyazpiZy13aGl0ZS8xMCBwLTJcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlN5c3RlbSBwcm9tcHRcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kZXRhaWxzPlxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17c3RvcFN0cmVhbWluZ30gXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshc3RyZWFtaW5nfSBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmJsb2NrIHJvdW5kZWQtbGcgcHgtMiBweS0xIGJnLXJlZC02MDAvODAgdGV4dC13aGl0ZSBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlN0b3AgZ2VuZXJhdGlvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFN0b3BcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17cmVnZW5lcmF0ZX0gXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtzdHJlYW1pbmcgfHwgbWVzc2FnZXMubGVuZ3RoIDwgMn0gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlbiBzbTpibG9jayByb3VuZGVkLWxnIHB4LTIgcHktMSBiZy13aGl0ZS82MCBkYXJrOmJnLXdoaXRlLzEwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVnZW5lcmF0ZSBsYXN0IHJlc3BvbnNlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUmVnZW5lcmF0ZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgIHsvKiBNZXNzYWdlcyAqL31cbiAgICAgICAgPGRpdiByZWY9e2xpc3RSZWZ9IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy1hdXRvIHB4LTQgbWQ6cHgtNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBtYXgtdy0zeGwgcHktNiBzcGFjZS15LTZcIj5cbiAgICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG0sIGkpID0+IChcbiAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICBrZXk9e2l9IFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQtMnhsIHAtNCAke1xuICAgICAgICAgICAgICAgICAgbS5yb2xlID09PSAndXNlcicgPyAnYmctd2hpdGUvNzAgZGFyazpiZy13aGl0ZS8xMCcgOiAnYmctd2hpdGUvNSBib3JkZXIgYm9yZGVyLXdoaXRlLzEwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge20ucm9sZSA9PT0gJ2Fzc2lzdGFudCcgPyAoXG4gICAgICAgICAgICAgICAgICA8TWFya2Rvd24gdGV4dD17bS5jb250ZW50fSAvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXBcIj57bS5jb250ZW50fTwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge20ucm9sZSA9PT0gJ3VzZXInICYmICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gbWVzc2FnZXMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VzW2pdLnJvbGUgPT09ICd1c2VyJykgcmV0dXJuIGkgPT09IGo7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSkoKSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktODAgdW5kZXJsaW5lIGhvdmVyOm9wYWNpdHktMTAwXCIgXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBzZXRFZGl0aW5nSW5kZXgoaSk7IHNldElucHV0KG0uY29udGVudCk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkVkaXQgYW5kIHJlZ2VuZXJhdGUgdGhpcyBtZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIEVkaXQgYW5kIHJlZ2VuZXJhdGVcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgICAge3N0cmVhbWluZyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1wdWxzZSB0ZXh0LXNtIG9wYWNpdHktODAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICBBc3Npc3RhbnQgaXMgdHlwaW5n4oCmXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3N0b3BTdHJlYW1pbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzbTpoaWRkZW4gdGV4dC14cyBiZy1yZWQtNjAwLzgwIHRleHQtd2hpdGUgcHgtMiBweS0xIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlN0b3AgZ2VuZXJhdGlvblwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgU3RvcFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBKdW1wIHRvIGxhdGVzdCBidXR0b24gKi99XG4gICAgICAgIHt1c2VyU2Nyb2xsZWQgJiYgc3RyZWFtaW5nICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0yNCByaWdodC02IHotMTBcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17c2Nyb2xsVG9Cb3R0b219XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWVtZXJhbGQtNjAwIGhvdmVyOmJnLWVtZXJhbGQtNTAwIHRleHQtd2hpdGUgcHgtMyBweS0yIHJvdW5kZWQtZnVsbCBzaGFkb3ctbGcgdGV4dC1zbVwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJKdW1wIHRvIGxhdGVzdCBtZXNzYWdlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg4oaTIEp1bXAgdG8gbGF0ZXN0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogQ29tcG9zZXIgKi99XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtzZW5kTWVzc2FnZX0gY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwIHAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0byBtYXgtdy0zeGwgZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgIHJlZj17dGV4dGFyZWFSZWZ9XG4gICAgICAgICAgICAgIHZhbHVlPXtpbnB1dH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWVzc2FnZS4uLlwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSByb3VuZGVkLTJ4bCBiZy13aGl0ZS83MCBkYXJrOmJnLXdoaXRlLzEwIHB4LTQgcHktMyByZXNpemUtbm9uZSBvdmVyZmxvdy1oaWRkZW4gbWluLWgtWzQ4cHhdXCJcbiAgICAgICAgICAgICAgcm93cz17MX1cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlR5cGUgeW91ciBtZXNzYWdlXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N0cmVhbWluZyB8fCAhaW5wdXQudHJpbSgpfSBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC0yeGwgcHgtNCBweS0zIGJnLWVtZXJhbGQtNjAwIGhvdmVyOmJnLWVtZXJhbGQtNTAwIHRleHQtd2hpdGUgZGlzYWJsZWQ6b3BhY2l0eS01MCBzZWxmLWVuZFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJTZW5kIG1lc3NhZ2VcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBTZW5kXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG8gbWF4LXctM3hsIG10LTIgdGV4dC14cyBvcGFjaXR5LTcwXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+Q21kK0VudGVyIHRvIHNlbmQg4oCiIDwvc3Bhbj5cbiAgICAgICAgICAgIEVudGVyIHRvIHNlbmQsIFNoaWZ0K0VudGVyIGZvciBuZXcgbGluZVxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPiDigKIgRXNjIHRvIHN0b3A8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvbWFpbj5cbiAgICA8L2Rpdj5cbiAgKVxufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlUmVmIiwidXNlU3RhdGUiLCJNYXJrZG93biIsIkNoYXRVSSIsImluaXRpYWxDaGF0cyIsImNoYXRzIiwic2V0Q2hhdHMiLCJhY3RpdmVJZCIsInNldEFjdGl2ZUlkIiwiaWQiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaW5wdXQiLCJzZXRJbnB1dCIsInN5c3RlbSIsInNldFN5c3RlbSIsIm1vZGVsIiwic2V0TW9kZWwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfT1BFTkFJX01PREVMIiwic3RyZWFtaW5nIiwic2V0U3RyZWFtaW5nIiwidGhlbWUiLCJzZXRUaGVtZSIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJlZGl0aW5nSW5kZXgiLCJzZXRFZGl0aW5nSW5kZXgiLCJtb2JpbGVTaWRlYmFyT3BlbiIsInNldE1vYmlsZVNpZGViYXJPcGVuIiwidXNlclNjcm9sbGVkIiwic2V0VXNlclNjcm9sbGVkIiwibGlzdFJlZiIsInRleHRhcmVhUmVmIiwiYWJvcnRSZWYiLCJpc0RhcmsiLCJ0ZXh0YXJlYSIsImN1cnJlbnQiLCJzdHlsZSIsImhlaWdodCIsIk1hdGgiLCJtaW4iLCJzY3JvbGxIZWlnaHQiLCJ0b2dnbGVUaGVtZSIsIm5leHQiLCJlbCIsImFkZCIsInJlbW92ZSIsImNvbG9yU2NoZW1lIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlcyIsImZldGNoIiwiZGF0YSIsImpzb24iLCJoYW5kbGVTY3JvbGwiLCJzY3JvbGxUb3AiLCJjbGllbnRIZWlnaHQiLCJpc0F0Qm90dG9tIiwiY29udGFpbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjcmVhdGVOZXdDaGF0IiwibWV0aG9kIiwicHJldiIsImNoYXQiLCJkZWxldGVDaGF0IiwiZmlsdGVyIiwiYyIsImZpbmQiLCJyZW5hbWVBY3RpdmUiLCJ0aXRsZSIsInByb21wdCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImxpc3QiLCJ0aGVuIiwiciIsInJlZnJlc2hDaGF0cyIsInNlbmRNZXNzYWdlIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY29udGVudCIsInRyaW0iLCJmb2N1cyIsInBheWxvYWRDaGF0SWQiLCJvcHRpbWlzdGljIiwiYmVmb3JlIiwic2xpY2UiLCJyb2xlIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwiY2hhdElkIiwiRXJyb3IiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJhY2MiLCJ2YWx1ZSIsImRvbmUiLCJyZWFkIiwiZGVjb2RlIiwic3RyZWFtIiwibSIsImNvcHkiLCJsYXN0IiwibGVuZ3RoIiwiZXJyb3IiLCJuYW1lIiwiY29uc29sZSIsInN0b3BTdHJlYW1pbmciLCJhYm9ydCIsInJlZ2VuZXJhdGUiLCJpIiwic2Nyb2xsVG9Cb3R0b20iLCJoYW5kbGVLZXlEb3duIiwia2V5Iiwic2hpZnRLZXkiLCJvbktleSIsImlzTWFjIiwibmF2aWdhdG9yIiwicGxhdGZvcm0iLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwibWV0YSIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwid2luZG93Iiwic2lkZWJhckNvbnRlbnQiLCJhc2lkZSIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJhcmlhLWxhYmVsIiwiZGl2IiwibWFwIiwidGFiSW5kZXgiLCJzcGFuIiwic3RvcFByb3BhZ2F0aW9uIiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwiYSIsImhyZWYiLCJ0YXJnZXQiLCJyZWwiLCJtYWluIiwiaGVhZGVyIiwic3ZnIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwiaDEiLCJzZWxlY3QiLCJvbkNoYW5nZSIsIm9wdGlvbiIsImRldGFpbHMiLCJzdW1tYXJ5IiwibGFiZWwiLCJkaXNhYmxlZCIsInJlZiIsInRleHQiLCJqIiwiZm9ybSIsIm9uU3VibWl0Iiwib25LZXlEb3duIiwicGxhY2Vob2xkZXIiLCJyb3dzIiwidHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ChatUI.tsx\n");

/***/ }),

/***/ "(ssr)/./components/Markdown.tsx":
/*!*********************************!*\
  !*** ./components/Markdown.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Markdown)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! marked */ \"(ssr)/./node_modules/marked/lib/marked.esm.js\");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dompurify */ \"(ssr)/./node_modules/dompurify/dist/purify.es.mjs\");\n/* harmony import */ var highlight_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! highlight.js */ \"(ssr)/./node_modules/highlight.js/es/index.js\");\n/* harmony import */ var highlight_js_styles_github_dark_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! highlight.js/styles/github-dark.css */ \"(ssr)/./node_modules/highlight.js/styles/github-dark.css\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\nconst PRETTY_LANG = {\n    tsx: \"TSX\",\n    ts: \"TypeScript\",\n    js: \"JavaScript\",\n    jsx: \"JSX\",\n    json: \"JSON\",\n    py: \"Python\",\n    rb: \"Ruby\",\n    rs: \"Rust\",\n    go: \"Go\",\n    java: \"Java\",\n    c: \"C\",\n    cpp: \"C++\",\n    cs: \"C#\",\n    sh: \"Shell\",\n    bash: \"Bash\",\n    zsh: \"Zsh\",\n    yaml: \"YAML\",\n    yml: \"YAML\",\n    md: \"Markdown\",\n    html: \"HTML\",\n    css: \"CSS\",\n    sql: \"SQL\",\n    php: \"PHP\"\n};\nfunction prettyLang(lang) {\n    if (!lang) return \"\";\n    const key = lang.toLowerCase();\n    return PRETTY_LANG[key] || lang;\n}\n// Parse info string: \"ts {lines start=5}\"\nfunction parseInfo(info) {\n    const raw = (info || \"\").trim();\n    if (!raw) return {\n        lang: \"\",\n        lines: false,\n        start: 1\n    };\n    const m = raw.match(/^([^\\s{]+)?\\s*(\\{.*\\})?$/);\n    const lang = (m?.[1] || \"\").trim();\n    let lines = false;\n    let start = 1;\n    if (m?.[2]) {\n        const meta = m[2];\n        if (/\\blines\\b/.test(meta)) lines = true;\n        const sm = meta.match(/start\\s*=\\s*(\\d+)/);\n        if (sm) start = Math.max(1, parseInt(sm[1], 10) || 1);\n    }\n    return {\n        lang,\n        lines,\n        start\n    };\n}\n// Custom renderer with ChatGPT style code blocks, optional line numbers\nconst renderer = new marked__WEBPACK_IMPORTED_MODULE_2__.marked.Renderer();\nrenderer.code = ({ text, lang })=>{\n    const { lang: parsedLang, lines, start } = parseInfo(lang);\n    const label = prettyLang(parsedLang);\n    let highlighted = text;\n    try {\n        if (parsedLang && highlight_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getLanguage(parsedLang)) {\n            highlighted = highlight_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].highlight(text, {\n                language: parsedLang\n            }).value;\n        } else {\n            highlighted = highlight_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].highlightAuto(text).value;\n        }\n    } catch  {}\n    // If line numbers requested, wrap each line with <span>..</span>\n    let bodyHtml = highlighted;\n    let lineStyle = \"\";\n    let blockClass = \"codeblock\";\n    if (lines) {\n        const parts = highlighted.split(\"\\n\");\n        // Preserve trailing newline behavior\n        const lastEmpty = parts.length && parts[parts.length - 1] === \"\";\n        const wrapped = parts.map((l)=>`<span>${l}</span>`).join(\"\\n\");\n        bodyHtml = lastEmpty ? `${wrapped}\\n` : wrapped;\n        blockClass += \" with-lines\";\n        // counter starts at start-1 because ::before increments first\n        lineStyle = `style=\"counter-reset: line ${start - 1}\"`;\n    }\n    const langAttr = parsedLang ? `language-${parsedLang}` : \"\";\n    return `\n<div class=\"${blockClass}\" data-lang=\"${label}\">\n  <div class=\"codeblock-header\">\n    <span class=\"codeblock-lang\">${label || \"\"}</span>\n    <button class=\"codeblock-copy\" type=\"button\">Copy</button>\n  </div>\n  <pre><code class=\"${langAttr}\" ${lineStyle}>${bodyHtml}</code></pre>\n</div>`;\n};\nmarked__WEBPACK_IMPORTED_MODULE_2__.marked.setOptions({\n    gfm: true,\n    breaks: false,\n    renderer\n});\nfunction Markdown({ text }) {\n    const html = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const raw = marked__WEBPACK_IMPORTED_MODULE_2__.marked.parse(text);\n        const clean = dompurify__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sanitize(raw, {\n            USE_PROFILES: {\n                html: true\n            }\n        });\n        return clean;\n    }, [\n        text\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // wire copy buttons\n        const buttons = document.querySelectorAll(\".codeblock .codeblock-copy\");\n        buttons.forEach((btn)=>{\n            if (btn.__wired) return;\n            btn.__wired = true;\n            btn.addEventListener(\"click\", async ()=>{\n                const pre = btn.closest(\".codeblock\")?.querySelector(\"pre > code\");\n                const raw = pre?.innerText ?? \"\";\n                try {\n                    await navigator.clipboard.writeText(raw);\n                    const old = btn.textContent;\n                    btn.textContent = \"Copied\";\n                    setTimeout(()=>{\n                        btn.textContent = old || \"Copy\";\n                    }, 1100);\n                } catch  {}\n            });\n        });\n    }, [\n        html\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"prose prose-invert max-w-none\",\n        dangerouslySetInnerHTML: {\n            __html: html\n        }\n    }, void 0, false, {\n        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/Markdown.tsx\",\n        lineNumber: 111,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ3pEO29CQUNwQyxNQUFNMEQsTUFBTVYsSUFBSVcsV0FBVztvQkFDM0JYLElBQUlXLFdBQVcsR0FBRztvQkFDbEJDLFdBQVc7d0JBQVFaLElBQUlXLFdBQVcsR0FBR0QsT0FBTztvQkFBTyxHQUFHO2dCQUN4RCxFQUFFLE9BQU0sQ0FBQztZQUNYO1FBQ0Y7SUFDRixHQUFHO1FBQUNwRTtLQUFLO0lBRVQscUJBQU8sOERBQUN1RTtRQUFJQyxXQUFVO1FBQWdDQyx5QkFBeUI7WUFBRUMsUUFBUTFFO1FBQUs7Ozs7OztBQUNoRyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoYXRncHQtY2xvbmUvLi9jb21wb25lbnRzL01hcmtkb3duLnRzeD84NWU0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBtYXJrZWQgfSBmcm9tICdtYXJrZWQnXG5pbXBvcnQgRE9NUHVyaWZ5IGZyb20gJ2RvbXB1cmlmeSdcbmltcG9ydCBobGpzIGZyb20gJ2hpZ2hsaWdodC5qcydcbmltcG9ydCAnaGlnaGxpZ2h0LmpzL3N0eWxlcy9naXRodWItZGFyay5jc3MnXG5cbmNvbnN0IFBSRVRUWV9MQU5HOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICB0c3g6ICdUU1gnLCB0czogJ1R5cGVTY3JpcHQnLCBqczogJ0phdmFTY3JpcHQnLCBqc3g6ICdKU1gnLFxuICBqc29uOiAnSlNPTicsIHB5OiAnUHl0aG9uJywgcmI6ICdSdWJ5JywgcnM6ICdSdXN0JyxcbiAgZ286ICdHbycsIGphdmE6ICdKYXZhJywgYzogJ0MnLCBjcHA6ICdDKysnLCBjczogJ0MjJyxcbiAgc2g6ICdTaGVsbCcsIGJhc2g6ICdCYXNoJywgenNoOiAnWnNoJywgeWFtbDogJ1lBTUwnLCB5bWw6ICdZQU1MJyxcbiAgbWQ6ICdNYXJrZG93bicsIGh0bWw6ICdIVE1MJywgY3NzOiAnQ1NTJywgc3FsOiAnU1FMJywgcGhwOiAnUEhQJyxcbn1cblxuZnVuY3Rpb24gcHJldHR5TGFuZyhsYW5nPzogc3RyaW5nKSB7XG4gIGlmICghbGFuZykgcmV0dXJuICcnXG4gIGNvbnN0IGtleSA9IGxhbmcudG9Mb3dlckNhc2UoKVxuICByZXR1cm4gUFJFVFRZX0xBTkdba2V5XSB8fCBsYW5nXG59XG5cbi8vIFBhcnNlIGluZm8gc3RyaW5nOiBcInRzIHtsaW5lcyBzdGFydD01fVwiXG5mdW5jdGlvbiBwYXJzZUluZm8oaW5mbz86IHN0cmluZykge1xuICBjb25zdCByYXcgPSAoaW5mbyB8fCAnJykudHJpbSgpXG4gIGlmICghcmF3KSByZXR1cm4geyBsYW5nOiAnJywgbGluZXM6IGZhbHNlLCBzdGFydDogMSB9XG4gIGNvbnN0IG0gPSByYXcubWF0Y2goL14oW15cXHN7XSspP1xccyooXFx7LipcXH0pPyQvKVxuICBjb25zdCBsYW5nID0gKG0/LlsxXSB8fCAnJykudHJpbSgpXG4gIGxldCBsaW5lcyA9IGZhbHNlXG4gIGxldCBzdGFydCA9IDFcbiAgaWYgKG0/LlsyXSkge1xuICAgIGNvbnN0IG1ldGEgPSBtWzJdXG4gICAgaWYgKC9cXGJsaW5lc1xcYi8udGVzdChtZXRhKSkgbGluZXMgPSB0cnVlXG4gICAgY29uc3Qgc20gPSBtZXRhLm1hdGNoKC9zdGFydFxccyo9XFxzKihcXGQrKS8pXG4gICAgaWYgKHNtKSBzdGFydCA9IE1hdGgubWF4KDEsIHBhcnNlSW50KHNtWzFdLCAxMCkgfHwgMSlcbiAgfVxuICByZXR1cm4geyBsYW5nLCBsaW5lcywgc3RhcnQgfVxufVxuXG4vLyBDdXN0b20gcmVuZGVyZXIgd2l0aCBDaGF0R1BUIHN0eWxlIGNvZGUgYmxvY2tzLCBvcHRpb25hbCBsaW5lIG51bWJlcnNcbmNvbnN0IHJlbmRlcmVyID0gbmV3IG1hcmtlZC5SZW5kZXJlcigpXG5yZW5kZXJlci5jb2RlID0gKHsgdGV4dCwgbGFuZyB9OiB7IHRleHQ6IHN0cmluZzsgbGFuZz86IHN0cmluZyB9KSA9PiB7XG4gIGNvbnN0IHsgbGFuZzogcGFyc2VkTGFuZywgbGluZXMsIHN0YXJ0IH0gPSBwYXJzZUluZm8obGFuZylcbiAgY29uc3QgbGFiZWwgPSBwcmV0dHlMYW5nKHBhcnNlZExhbmcpXG4gIGxldCBoaWdobGlnaHRlZCA9IHRleHRcbiAgdHJ5IHtcbiAgICBpZiAocGFyc2VkTGFuZyAmJiBobGpzLmdldExhbmd1YWdlKHBhcnNlZExhbmcpKSB7XG4gICAgICBoaWdobGlnaHRlZCA9IGhsanMuaGlnaGxpZ2h0KHRleHQsIHsgbGFuZ3VhZ2U6IHBhcnNlZExhbmcgfSkudmFsdWVcbiAgICB9IGVsc2Uge1xuICAgICAgaGlnaGxpZ2h0ZWQgPSBobGpzLmhpZ2hsaWdodEF1dG8odGV4dCkudmFsdWVcbiAgICB9XG4gIH0gY2F0Y2ggeyAvKiBub29wICovIH1cblxuICAvLyBJZiBsaW5lIG51bWJlcnMgcmVxdWVzdGVkLCB3cmFwIGVhY2ggbGluZSB3aXRoIDxzcGFuPi4uPC9zcGFuPlxuICBsZXQgYm9keUh0bWwgPSBoaWdobGlnaHRlZFxuICBsZXQgbGluZVN0eWxlID0gJydcbiAgbGV0IGJsb2NrQ2xhc3MgPSAnY29kZWJsb2NrJ1xuICBpZiAobGluZXMpIHtcbiAgICBjb25zdCBwYXJ0cyA9IGhpZ2hsaWdodGVkLnNwbGl0KCdcXG4nKVxuICAgIC8vIFByZXNlcnZlIHRyYWlsaW5nIG5ld2xpbmUgYmVoYXZpb3JcbiAgICBjb25zdCBsYXN0RW1wdHkgPSBwYXJ0cy5sZW5ndGggJiYgcGFydHNbcGFydHMubGVuZ3RoIC0gMV0gPT09ICcnXG4gICAgY29uc3Qgd3JhcHBlZCA9IHBhcnRzLm1hcChsID0+IGA8c3Bhbj4ke2x9PC9zcGFuPmApLmpvaW4oJ1xcbicpXG4gICAgYm9keUh0bWwgPSBsYXN0RW1wdHkgPyBgJHt3cmFwcGVkfVxcbmAgOiB3cmFwcGVkXG4gICAgYmxvY2tDbGFzcyArPSAnIHdpdGgtbGluZXMnXG4gICAgLy8gY291bnRlciBzdGFydHMgYXQgc3RhcnQtMSBiZWNhdXNlIDo6YmVmb3JlIGluY3JlbWVudHMgZmlyc3RcbiAgICBsaW5lU3R5bGUgPSBgc3R5bGU9XCJjb3VudGVyLXJlc2V0OiBsaW5lICR7c3RhcnQgLSAxfVwiYFxuICB9XG5cbiAgY29uc3QgbGFuZ0F0dHIgPSBwYXJzZWRMYW5nID8gYGxhbmd1YWdlLSR7cGFyc2VkTGFuZ31gIDogJydcbiAgcmV0dXJuIGBcbjxkaXYgY2xhc3M9XCIke2Jsb2NrQ2xhc3N9XCIgZGF0YS1sYW5nPVwiJHtsYWJlbH1cIj5cbiAgPGRpdiBjbGFzcz1cImNvZGVibG9jay1oZWFkZXJcIj5cbiAgICA8c3BhbiBjbGFzcz1cImNvZGVibG9jay1sYW5nXCI+JHtsYWJlbCB8fCAnJ308L3NwYW4+XG4gICAgPGJ1dHRvbiBjbGFzcz1cImNvZGVibG9jay1jb3B5XCIgdHlwZT1cImJ1dHRvblwiPkNvcHk8L2J1dHRvbj5cbiAgPC9kaXY+XG4gIDxwcmU+PGNvZGUgY2xhc3M9XCIke2xhbmdBdHRyfVwiICR7bGluZVN0eWxlfT4ke2JvZHlIdG1sfTwvY29kZT48L3ByZT5cbjwvZGl2PmBcbn1cblxubWFya2VkLnNldE9wdGlvbnMoe1xuICBnZm06IHRydWUsXG4gIGJyZWFrczogZmFsc2UsXG4gIHJlbmRlcmVyXG59KVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNYXJrZG93bih7IHRleHQgfTogeyB0ZXh0OiBzdHJpbmcgfSkge1xuICBjb25zdCBodG1sID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcmF3ID0gbWFya2VkLnBhcnNlKHRleHQpXG4gICAgY29uc3QgY2xlYW4gPSBET01QdXJpZnkuc2FuaXRpemUocmF3IGFzIHN0cmluZywgeyBVU0VfUFJPRklMRVM6IHsgaHRtbDogdHJ1ZSB9IH0pXG4gICAgcmV0dXJuIGNsZWFuIGFzIHN0cmluZ1xuICB9LCBbdGV4dF0pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyB3aXJlIGNvcHkgYnV0dG9uc1xuICAgIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxCdXR0b25FbGVtZW50PignLmNvZGVibG9jayAuY29kZWJsb2NrLWNvcHknKVxuICAgIGJ1dHRvbnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgaWYgKChidG4gYXMgYW55KS5fX3dpcmVkKSByZXR1cm5cbiAgICAgIDsoYnRuIGFzIGFueSkuX193aXJlZCA9IHRydWVcbiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJlID0gYnRuLmNsb3Nlc3QoJy5jb2RlYmxvY2snKT8ucXVlcnlTZWxlY3RvcigncHJlID4gY29kZScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbFxuICAgICAgICBjb25zdCByYXcgPSBwcmU/LmlubmVyVGV4dCA/PyAnJ1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHJhdylcbiAgICAgICAgICBjb25zdCBvbGQgPSBidG4udGV4dENvbnRlbnRcbiAgICAgICAgICBidG4udGV4dENvbnRlbnQgPSAnQ29waWVkJ1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBidG4udGV4dENvbnRlbnQgPSBvbGQgfHwgJ0NvcHknIH0sIDExMDApXG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH0pXG4gICAgfSlcbiAgfSwgW2h0bWxdKVxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInByb3NlIHByb3NlLWludmVydCBtYXgtdy1ub25lXCIgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBodG1sIH19IC8+XG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJtYXJrZWQiLCJET01QdXJpZnkiLCJobGpzIiwiUFJFVFRZX0xBTkciLCJ0c3giLCJ0cyIsImpzIiwianN4IiwianNvbiIsInB5IiwicmIiLCJycyIsImdvIiwiamF2YSIsImMiLCJjcHAiLCJjcyIsInNoIiwiYmFzaCIsInpzaCIsInlhbWwiLCJ5bWwiLCJtZCIsImh0bWwiLCJjc3MiLCJzcWwiLCJwaHAiLCJwcmV0dHlMYW5nIiwibGFuZyIsImtleSIsInRvTG93ZXJDYXNlIiwicGFyc2VJbmZvIiwiaW5mbyIsInJhdyIsInRyaW0iLCJsaW5lcyIsInN0YXJ0IiwibSIsIm1hdGNoIiwibWV0YSIsInRlc3QiLCJzbSIsIk1hdGgiLCJtYXgiLCJwYXJzZUludCIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJjb2RlIiwidGV4dCIsInBhcnNlZExhbmciLCJsYWJlbCIsImhpZ2hsaWdodGVkIiwiZ2V0TGFuZ3VhZ2UiLCJoaWdobGlnaHQiLCJsYW5ndWFnZSIsInZhbHVlIiwiaGlnaGxpZ2h0QXV0byIsImJvZHlIdG1sIiwibGluZVN0eWxlIiwiYmxvY2tDbGFzcyIsInBhcnRzIiwic3BsaXQiLCJsYXN0RW1wdHkiLCJsZW5ndGgiLCJ3cmFwcGVkIiwibWFwIiwibCIsImpvaW4iLCJsYW5nQXR0ciIsInNldE9wdGlvbnMiLCJnZm0iLCJicmVha3MiLCJNYXJrZG93biIsInBhcnNlIiwiY2xlYW4iLCJzYW5pdGl6ZSIsIlVTRV9QUk9GSUxFUyIsImJ1dHRvbnMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYnRuIiwiX193aXJlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmUiLCJjbG9zZXN0IiwicXVlcnlTZWxlY3RvciIsImlubmVyVGV4dCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsIm9sZCIsInRleHRDb250ZW50Iiwic2V0VGltZW91dCIsImRpdiIsImNsYXNzTmFtZSIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/Markdown.tsx\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"dbfab35ab352\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0Z3B0LWNsb25lLy4vYXBwL2dsb2JhbHMuY3NzPzViNmIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJkYmZhYjM1YWIzNTJcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n\n\nconst metadata = {\n    title: \"Personal ChatGPT\",\n    description: \"Single-user ChatGPT-like app\"\n};\n// Pre-hydration theme fix: sets html.dark before React mounts\nconst ThemeScript = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n        dangerouslySetInnerHTML: {\n            __html: `\n(function(){\n  try {\n    var saved = localStorage.getItem('theme');        // 'dark' | 'light' | null\n    var dark = saved ? saved === 'dark' : window.matchMedia('(prefers-color-scheme: dark)').matches;\n    var el = document.documentElement;\n    if (dark) el.classList.add('dark'); else el.classList.remove('dark');\n    el.style.colorScheme = dark ? 'dark' : 'light';\n  } catch (e) {\n    document.documentElement.classList.add('dark');\n    document.documentElement.style.colorScheme = 'dark';\n  }\n})();`\n        }\n    }, void 0, false, {\n        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/app/layout.tsx\",\n        lineNumber: 11,\n        columnNumber: 3\n    }, undefined);\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        suppressHydrationWarning: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"head\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ThemeScript, {}, void 0, false, {\n                    fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/app/layout.tsx\",\n                    lineNumber: 34,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/app/layout.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                className: \"antialiased\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/app/layout.tsx\",\n                lineNumber: 36,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/app/layout.tsx\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBc0I7QUFHZixNQUFNQSxXQUFXO0lBQ3RCQyxPQUFPO0lBQ1BDLGFBQWE7QUFDZixFQUFDO0FBRUQsOERBQThEO0FBQzlELE1BQU1DLGNBQWMsa0JBQ2xCLDhEQUFDQztRQUNDQyx5QkFBeUI7WUFDdkJDLFFBQVEsQ0FBQzs7Ozs7Ozs7Ozs7O0tBWVYsQ0FBQztRQUNGOzs7Ozs7QUFJVyxTQUFTQyxXQUFXLEVBQUVDLFFBQVEsRUFBMkI7SUFDdEUscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7UUFBS0Msd0JBQXdCOzswQkFDdEMsOERBQUNDOzBCQUNDLDRFQUFDVDs7Ozs7Ozs7OzswQkFFSCw4REFBQ1U7Z0JBQUtDLFdBQVU7MEJBQWVOOzs7Ozs7Ozs7Ozs7QUFHckMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0Z3B0LWNsb25lLy4vYXBwL2xheW91dC50c3g/OTk4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vZ2xvYmFscy5jc3MnXG5pbXBvcnQgeyB0eXBlIFJlYWN0Tm9kZSB9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgY29uc3QgbWV0YWRhdGEgPSB7XG4gIHRpdGxlOiAnUGVyc29uYWwgQ2hhdEdQVCcsXG4gIGRlc2NyaXB0aW9uOiAnU2luZ2xlLXVzZXIgQ2hhdEdQVC1saWtlIGFwcCcsXG59XG5cbi8vIFByZS1oeWRyYXRpb24gdGhlbWUgZml4OiBzZXRzIGh0bWwuZGFyayBiZWZvcmUgUmVhY3QgbW91bnRzXG5jb25zdCBUaGVtZVNjcmlwdCA9ICgpID0+IChcbiAgPHNjcmlwdFxuICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICBfX2h0bWw6IGBcbihmdW5jdGlvbigpe1xuICB0cnkge1xuICAgIHZhciBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpOyAgICAgICAgLy8gJ2RhcmsnIHwgJ2xpZ2h0JyB8IG51bGxcbiAgICB2YXIgZGFyayA9IHNhdmVkID8gc2F2ZWQgPT09ICdkYXJrJyA6IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcztcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgaWYgKGRhcmspIGVsLmNsYXNzTGlzdC5hZGQoJ2RhcmsnKTsgZWxzZSBlbC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJyk7XG4gICAgZWwuc3R5bGUuY29sb3JTY2hlbWUgPSBkYXJrID8gJ2RhcmsnIDogJ2xpZ2h0JztcbiAgfSBjYXRjaCAoZSkge1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmNvbG9yU2NoZW1lID0gJ2RhcmsnO1xuICB9XG59KSgpO2AsXG4gICAgfX1cbiAgLz5cbilcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGh0bWwgbGFuZz1cImVuXCIgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPlxuICAgICAgPGhlYWQ+XG4gICAgICAgIDxUaGVtZVNjcmlwdCAvPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHkgY2xhc3NOYW1lPVwiYW50aWFsaWFzZWRcIj57Y2hpbGRyZW59PC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgKVxufSJdLCJuYW1lcyI6WyJtZXRhZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJUaGVtZVNjcmlwdCIsInNjcmlwdCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImxhbmciLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJoZWFkIiwiYm9keSIsImNsYXNzTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _components_ChatUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ChatUI */ \"(rsc)/./components/ChatUI.tsx\");\n\n\n\nasync function Home() {\n    // Load initial chats\n    const conversations = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.conversation.findMany({\n        orderBy: {\n            updatedAt: \"desc\"\n        },\n        select: {\n            id: true,\n            name: true,\n            createdAt: true\n        },\n        take: 50\n    });\n    const initialChats = conversations.map((c)=>({\n            id: c.id,\n            title: c.name,\n            createdAt: c.createdAt.toISOString()\n        }));\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatUI__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        initialChats: initialChats\n    }, void 0, false, {\n        fileName: \"/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/app/page.tsx\",\n        lineNumber: 18,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlDO0FBQ087QUFFekIsZUFBZUU7SUFDNUIscUJBQXFCO0lBQ3JCLE1BQU1DLGdCQUFnQixNQUFNSCwyQ0FBTUEsQ0FBQ0ksWUFBWSxDQUFDQyxRQUFRLENBQUM7UUFDdkRDLFNBQVM7WUFBRUMsV0FBVztRQUFPO1FBQzdCQyxRQUFRO1lBQUVDLElBQUk7WUFBTUMsTUFBTTtZQUFNQyxXQUFXO1FBQUs7UUFDaERDLE1BQU07SUFDUjtJQUVBLE1BQU1DLGVBQWVWLGNBQWNXLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBTTtZQUMzQ04sSUFBSU0sRUFBRU4sRUFBRTtZQUNSTyxPQUFPRCxFQUFFTCxJQUFJO1lBQ2JDLFdBQVdJLEVBQUVKLFNBQVMsQ0FBQ00sV0FBVztRQUNwQztJQUVBLHFCQUFPLDhEQUFDaEIsMERBQU1BO1FBQUNZLGNBQWNBOzs7Ozs7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGF0Z3B0LWNsb25lLy4vYXBwL3BhZ2UudHN4Pzc2MDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9saWIvZGInXG5pbXBvcnQgQ2hhdFVJIGZyb20gJ0AvY29tcG9uZW50cy9DaGF0VUknXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIEhvbWUoKSB7XG4gIC8vIExvYWQgaW5pdGlhbCBjaGF0c1xuICBjb25zdCBjb252ZXJzYXRpb25zID0gYXdhaXQgcHJpc21hLmNvbnZlcnNhdGlvbi5maW5kTWFueSh7XG4gICAgb3JkZXJCeTogeyB1cGRhdGVkQXQ6ICdkZXNjJyB9LFxuICAgIHNlbGVjdDogeyBpZDogdHJ1ZSwgbmFtZTogdHJ1ZSwgY3JlYXRlZEF0OiB0cnVlIH0sXG4gICAgdGFrZTogNTBcbiAgfSlcblxuICBjb25zdCBpbml0aWFsQ2hhdHMgPSBjb252ZXJzYXRpb25zLm1hcChjID0+ICh7XG4gICAgaWQ6IGMuaWQsXG4gICAgdGl0bGU6IGMubmFtZSxcbiAgICBjcmVhdGVkQXQ6IGMuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKClcbiAgfSkpXG5cbiAgcmV0dXJuIDxDaGF0VUkgaW5pdGlhbENoYXRzPXtpbml0aWFsQ2hhdHN9IC8+XG59Il0sIm5hbWVzIjpbInByaXNtYSIsIkNoYXRVSSIsIkhvbWUiLCJjb252ZXJzYXRpb25zIiwiY29udmVyc2F0aW9uIiwiZmluZE1hbnkiLCJvcmRlckJ5IiwidXBkYXRlZEF0Iiwic2VsZWN0IiwiaWQiLCJuYW1lIiwiY3JlYXRlZEF0IiwidGFrZSIsImluaXRpYWxDaGF0cyIsIm1hcCIsImMiLCJ0aXRsZSIsInRvSVNPU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/page.tsx\n");

/***/ }),

/***/ "(rsc)/./components/ChatUI.tsx":
/*!*******************************!*\
  !*** ./components/ChatUI.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/jeremy/Projects/ai-memory-layer/chatgpt-clone/components/ChatUI.tsx#default`));


/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLGtCQUFrQkM7QUFFakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBLEdBQUc7QUFFbkUsSUFBSUksSUFBcUMsRUFBRUgsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hhdGdwdC1jbG9uZS8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgeyBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZCB9O1xuXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPSBwcmlzbWE7Il0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/highlight.js","vendor-chunks/marked","vendor-chunks/dompurify"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fjeremy%2FProjects%2Fai-memory-layer%2Fchatgpt-clone&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();